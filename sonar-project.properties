# SonarQube Project Properties - Análise Completa (Backend + Frontend)
# Este arquivo configura a análise combinada de ambos os projetos na raiz

sonar.projectKey=Wuelliton96_Vessel-Inspection
sonar.organization=wuelliton96
sonar.projectName=Vessel-Inspection

# Fontes de código (Backend + Frontend)
sonar.sources=backend,frontend-react/src

# Testes (Backend + Frontend)
# Diretórios onde os testes estão localizados
sonar.tests=backend/tests,frontend-react/src

# Padrões de inclusão de arquivos de teste - TODOS os testes serão reconhecidos
# Backend: todos os arquivos .test.js e .spec.js em backend/tests
# Frontend: todos os arquivos .test.ts, .test.tsx, .spec.ts, .spec.tsx em frontend-react/src
sonar.test.inclusions=backend/tests/**/*.test.js,backend/tests/**/*.spec.js,backend/tests/**/__tests__/**/*.js,frontend-react/src/**/*.test.ts,frontend-react/src/**/*.test.tsx,frontend-react/src/**/*.spec.ts,frontend-react/src/**/*.spec.tsx,frontend-react/src/**/__tests__/**/*.{ts,tsx}

# Coverage Reports (LCOV) - Backend e Frontend combinados
sonar.javascript.lcov.reportPaths=backend/coverage/lcov.info,frontend-react/coverage/lcov.info
sonar.typescript.lcov.reportPaths=frontend-react/coverage/lcov.info

# TypeScript Configuration (Frontend)
sonar.typescript.tsconfigPaths=frontend-react/tsconfig.json

# Inclusões de código fonte - garantir que todos os arquivos relevantes sejam incluídos
sonar.inclusions=backend/**/*.js,frontend-react/src/**/*.{ts,tsx,js,jsx}

# Exclusões gerais (Backend + Frontend) - arquivos que não devem ser analisados
# IMPORTANTE: NÃO excluir arquivos de teste aqui, eles devem aparecer em sonar.tests
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/*.d.ts,**/logs/**,**/uploads/**,**/migrations/**,**/scripts/**,**/__mocks__/**,backend/server.js,frontend-react/src/reportWebVitals.ts,frontend-react/src/setupTests.ts,frontend-react/src/index.tsx,frontend-react/src/react-app-env.d.ts,backend/jest.config.js,frontend-react/jest.config.js

# Exclusões de testes - arquivos de teste que não devem ser analisados como código
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/__mocks__/**

# Exclusões de coverage - arquivos que não devem contar para cobertura
sonar.coverage.exclusions=**/node_modules/**,**/tests/**,**/__mocks__/**,**/__tests__/**,**/coverage/**,**/logs/**,**/uploads/**,**/migrations/**,**/scripts/**,**/*.test.js,**/*.test.ts,**/*.test.tsx,**/*.spec.js,**/*.spec.ts,**/*.spec.tsx,backend/server.js,frontend-react/src/reportWebVitals.ts,frontend-react/src/setupTests.ts,frontend-react/src/index.tsx,frontend-react/src/react-app-env.d.ts,backend/jest.config.js,frontend-react/jest.config.js,frontend-react/src/__mocks__/**,frontend-react/src/**/__mocks__/**

# Exclusões de duplicação de código
sonar.cpd.exclusions=**/*.test.js,**/*.test.ts,**/*.test.tsx,**/__tests__/**,**/scripts/**,**/migrations/**

# Encoding
sonar.sourceEncoding=UTF-8

# Configurações adicionais para melhor reconhecimento de cobertura
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx
